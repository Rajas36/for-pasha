<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title> Jiya Parmar will you marry me?!‚ù§Ô∏è üíù</title>
  <style>
    :root{
      --bg1:#667eea;
      --bg2:#764ba2;
      --accent1:#ff6b6b;
      --accent2:#ee5a6f;
      --text-on-accent:#fff;
      --muted-white:rgba(255,255,255,0.85);
      --ui-radius:50px;
    }

    *{box-sizing:border-box;margin:0;padding:0}

    body{
      font-family:system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;
      background:linear-gradient(135deg,var(--bg1) 0%,var(--bg2) 100%);
      min-height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      overflow:hidden;
      color:var(--muted-white);
    }

    main{
      position:relative;
      z-index:2;
      text-align:center;
      padding:28px;
      width:min(920px,94vw);
    }

    h1{
      font-size:clamp(1.6rem,4.5vw,3.2rem);
      margin-bottom:34px;
      text-shadow:2px 2px 6px rgba(0,0,0,.25);
    }

    .buttons{
      display:flex;
      gap:18px;
      justify-content:center;
      flex-wrap:wrap;
    }

    button{
      appearance:none;
      -webkit-appearance:none;
      border:0;
      cursor:pointer;
      padding:18px 36px;
      font-size:1.25rem;
      border-radius:var(--ui-radius);
      font-weight:700;
      box-shadow:0 6px 18px rgba(0,0,0,.18);
      transition:transform .22s ease, box-shadow .22s ease;
      outline: none;
    }

    button:focus{
      box-shadow:0 0 0 4px rgba(255,255,255,.12), 0 6px 18px rgba(0,0,0,.18);
      transform:translateY(-2px);
    }

    #yesBtn{
      background:linear-gradient(45deg,var(--accent1),var(--accent2));
      color:var(--text-on-accent);
    }

    #noBtn{
      background:rgba(255,255,255,0.95);
      color:var(--bg2);
    }

    .success-message{
      color:var(--muted-white);
      font-size:clamp(1.4rem,3.5vw,2.6rem);
      animation:fadeIn .35s ease both;
    }

    @keyframes fadeIn{
      from{opacity:0; transform:scale(.96)}
      to{opacity:1; transform:scale(1)}
    }

    /* floating background hearts */
    .hearts{
      position:fixed;
      inset:0;
      pointer-events:none;
      z-index:0;
      overflow:hidden;
    }

    .heart-floating{
      position:absolute;
      color:rgba(255,255,255,0.6);
      user-select:none;
      will-change:transform,opacity;
      animation-name:floatUp, sway;
      animation-iteration-count:infinite;
      animation-timing-function:linear;
    }

    @keyframes floatUp{
      from{transform:translateY(10vh) scale(1); opacity:0}
      10%{opacity:1}
      to{transform:translateY(-120vh) scale(.9); opacity:0}
    }

    @keyframes sway{
      0%{transform:translateX(0)}
      50%{transform:translateX(6px)}
      100%{transform:translateX(0)}
    }

    /* reduced motion */
    @media (prefers-reduced-motion: reduce){
      .heart-floating,
      button{transition:none; animation:none}
    }

    /* big full-screen yes button state */
    .yes-fullscreen{
      position:fixed !important;
      inset:0 !important;
      width:100vw !important;
      height:100vh !important;
      border-radius:0 !important;
      display:flex !important;
      align-items:center !important;
      justify-content:center !important;
      font-size:4.5rem !important;
      z-index:1000 !important;
    }
  </style>
</head>
<body>
  <div class="hearts" id="hearts" aria-hidden="true"></div>

  <main id="main" role="main" class="container">
    <h1>Jiya Parmar will you marry me?!‚ù§Ô∏è</h1>

    <div class="buttons" id="buttonContainer">
      <button id="yesBtn" type="button" aria-label="Yes, I will" tabindex="0">Yes</button>
      <button id="noBtn" type="button" aria-label="No, I won't" tabindex="0">No</button>
    </div>
  </main>

  <script>
    (function(){
      const yesBtn = document.getElementById('yesBtn');
      const noBtn = document.getElementById('noBtn');
      const main = document.getElementById('main');
      const heartsContainer = document.getElementById('hearts');

      const noTexts = [
        "Are you sure? ü•∫",
        "Really? Think again! üò¢",
        "Please reconsider! üíî",
        "You're breaking my heart! üò≠",
        "Last chance! üôè",
        "Fine... I'll make it easier üò§"
      ];

      let noClickCount = 0;
      let busy = false; // simple guard to avoid racy clicks

      // Create floating background hearts
      function createFloatingHearts(count = 14){
        const reduced = window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches;
        for(let i=0;i<count;i++){
          if(reduced) break;
          const el = document.createElement('div');
          el.className = 'heart-floating';
          el.textContent = '‚ù§Ô∏è';
          const size = Math.random()*22 + 12; // px
          el.style.fontSize = size + 'px';
          el.style.left = Math.random()*100 + '%';
          // start below the bottom for floatUp animation
          el.style.top = (90 + Math.random()*20) + '%';
          // random durations and delays so they look organic
          el.style.animationDuration = (8 + Math.random()*12) + 's';
          el.style.animationDelay = (Math.random()*6) + 's';
          el.style.opacity = '0.9';
          heartsContainer.appendChild(el);

          // remove after a while to avoid unbounded DOM growth (create periodically)
          setTimeout(()=> el.remove(), 35000);
        }
      }

      createFloatingHearts(16);
      // periodically add some more
      setInterval(()=> createFloatingHearts(4), 9000);

      // Utility: create explosion hearts with JS-calculated trajectories
      function explodeFrom(x, y, count = 36){
        const reduced = window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches;
        if(reduced){
          // if reduced motion, do a simple confetti-less visual feedback
          const temp = document.createElement('div');
          temp.className = 'success-message';
          temp.textContent = 'üíï';
          temp.style.position = 'fixed';
          temp.style.left = x + 'px';
          temp.style.top = y + 'px';
          temp.style.transform = 'translate(-50%,-50%)';
          document.body.appendChild(temp);
          setTimeout(()=> temp.remove(), 900);
          return;
        }

        for(let i=0;i<count;i++){
          const heart = document.createElement('div');
          heart.textContent = '‚ù§Ô∏è';
          heart.style.position = 'fixed';
          heart.style.left = x + 'px';
          heart.style.top = y + 'px';
          heart.style.pointerEvents = 'none';
          const size = 14 + Math.random()*26;
          heart.style.fontSize = size + 'px';
          heart.style.willChange = 'transform,opacity';
          document.body.appendChild(heart);

          // compute trajectory
          const angle = Math.random() * Math.PI * 2;
          const distance = 160 + Math.random()*420; // px
          const dx = Math.cos(angle) * distance;
          const dy = Math.sin(angle) * distance;
          const duration = 650 + Math.random()*850; // ms

          // use Web Animations API for smooth control
          heart.animate([
            { transform: 'translate(-50%,-50%) scale(1)', opacity: 1 },
            { transform: `translate(${dx}px, ${dy}px) scale(0.3)`, opacity: 0 }
          ], {
            duration,
            easing: 'cubic-bezier(.22,.9,.32,1)',
            fill: 'forwards'
          });

          setTimeout(()=> heart.remove(), duration + 40);
        }
      }

      // Handler for Yes
      yesBtn.addEventListener('click', function(evt){
        if(busy) return;
        busy = true;
        // replace contents with success message
        main.innerHTML = '<div class="success-message">I knew you were going to say yes! üíï‚ú®</div>';
        // explode from center of viewport (or from button center if available)
        const rect = evt.currentTarget.getBoundingClientRect();
        const cx = rect.left + rect.width/2;
        const cy = rect.top + rect.height/2;
        explodeFrom(cx, cy, 48);

        // release busy after short delay
        setTimeout(()=> busy = false, 1200);
      });

      // Handler for No
      noBtn.addEventListener('click', function(){
        if(busy) return;
        busy = true;

        if(noClickCount < noTexts.length){
          noBtn.textContent = noTexts[noClickCount];
          // make yes button bigger progressively
          const newScale = 1 + (noClickCount * 0.18);
          yesBtn.style.transform = `scale(${newScale})`;
          yesBtn.style.padding = `${18 + noClickCount*6}px ${36 + noClickCount*12}px`;
          // small shake effect on no button using keyframe via JS
          noBtn.animate([
            { transform: 'translateX(0)' },
            { transform: 'translateX(-8px)' },
            { transform: 'translateX(8px)' },
            { transform: 'translateX(0)' }
          ], { duration: 400, easing: 'ease-out' });

          noClickCount++;
          setTimeout(()=> busy = false, 420);
        } else {
          // make yes button cover full viewport (visually persuasive)
          yesBtn.classList.add('yes-fullscreen');
          noBtn.style.display = 'none';

          // ensure yes button receives focus so keyboard users can press Enter/Space
          yesBtn.focus();

          // clicking the full-screen yes will still trigger the yes handler
          busy = false;
        }
      });

      // Accessibility: keyboard support for Enter/Space on focused buttons (native happens, but just ensure)
      [yesBtn, noBtn].forEach(btn=>{
        btn.addEventListener('keydown', (e)=>{
          if(e.key === 'Enter' || e.key === ' '){
            e.preventDefault();
            btn.click();
          }
        });
      });

    })();
  </script>
</body>
</html>
